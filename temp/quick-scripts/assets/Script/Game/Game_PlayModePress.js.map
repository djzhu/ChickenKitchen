{"version":3,"sources":["Game_PlayModePress.js"],"names":["cc","Class","extends","Component","properties","onLoad","down","value","limit","spr_filler","node","getChildByName","getComponent","Sprite","on","Node","EventType","TOUCH_START","onDown","MOUSE_DOWN","TOUCH_END","onUp","MOUSE_UP","active","event","finish","init","onFinish","fillRange","score","update","dt"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY,EAHJ;;AAMRC,OANQ,oBAMC;AACR,OAAKC,IAAL,GAAY,KAAZ;AACA,OAAKC,KAAL,GAAa,CAAb;AACA,OAAKC,KAAL,GAAa,CAAb,CAHQ,CAGQ;;AAEhB,OAAKC,UAAL,GAAkB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCC,YAAnC,CAAgDZ,GAAGa,MAAnD,CAAlB;;AAEA,OAAKH,IAAL,CAAUI,EAAV,CAAad,GAAGe,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,MAAjD,EAAyD,IAAzD;AACA,OAAKR,IAAL,CAAUI,EAAV,CAAad,GAAGe,IAAH,CAAQC,SAAR,CAAkBG,UAA/B,EAA2C,KAAKD,MAAhD,EAAwD,IAAxD;;AAEA,OAAKR,IAAL,CAAUI,EAAV,CAAad,GAAGe,IAAH,CAAQC,SAAR,CAAkBI,SAA/B,EAA0C,KAAKC,IAA/C,EAAqD,IAArD;AACA,OAAKX,IAAL,CAAUI,EAAV,CAAad,GAAGe,IAAH,CAAQC,SAAR,CAAkBM,QAA/B,EAAyC,KAAKD,IAA9C,EAAoD,IAApD;;AAEA,OAAKX,IAAL,CAAUa,MAAV,GAAmB,KAAnB;AACA,EApBO;AAqBRL,OArBQ,kBAqBDM,KArBC,EAqBM;AACb,OAAKlB,IAAL,GAAY,IAAZ;AACA,OAAKE,KAAL,GAAa,CAAb;AACA,EAxBO;AAyBRa,KAzBQ,gBAyBHG,KAzBG,EAyBI;AACX,OAAKlB,IAAL,GAAY,KAAZ;AACA,MAAI,KAAKC,KAAL,GAAa,GAAjB,EAAsB;AACrB,QAAKkB,MAAL,CAAY,CAAZ;AACA,GAFD,MAEO,IAAI,KAAKlB,KAAL,GAAa,GAAjB,EAAsB;AAC5B,QAAKkB,MAAL,CAAY,CAAZ;AACA,GAFM,MAEA;AACN,QAAKA,MAAL,CAAY,CAAZ;AACA;AACD,EAlCO;AAoCRC,KApCQ,gBAoCHC,QApCG,EAoCO;AACd,OAAKA,QAAL,GAAgBA,QAAhB;AACA,OAAKpB,KAAL,GAAa,CAAb;AACA,OAAKE,UAAL,CAAgBmB,SAAhB,GAA4B,KAAKrB,KAAjC;AACA,OAAKC,KAAL,GAAa,CAAb;AACA,OAAKE,IAAL,CAAUa,MAAV,GAAmB,IAAnB;AACA,EA1CO;AA4CRE,OA5CQ,kBA4CDI,KA5CC,EA4CM;AACb,OAAKrB,KAAL,GAAa,CAAb;AACA,OAAKF,IAAL,GAAY,KAAZ;AACA,OAAKI,IAAL,CAAUa,MAAV,GAAmB,KAAnB;AACA,OAAKI,QAAL,CAAcE,KAAd;AACA,EAjDO;AAmDRC,OAnDQ,kBAmDDC,EAnDC,EAmDG;AACV,MAAI,KAAKvB,KAAL,GAAa,CAAjB,EAAoB;AACnB,QAAKA,KAAL,IAAcuB,EAAd;AACA,OAAI,KAAKvB,KAAL,IAAc,CAAlB,EAAqB;AACpB,SAAKiB,MAAL,CAAY,CAAZ,EADoB,CACJ;AAChB;AACD;;AAED,MAAI,KAAKnB,IAAT,EAAe;AACd,QAAKC,KAAL,IAAcwB,EAAd;AACA,QAAKtB,UAAL,CAAgBmB,SAAhB,GAA4B,KAAKrB,KAAL,GAAa,CAAb,GAAiB,CAAjB,GAAqB,KAAKA,KAAtD;AACA,OAAI,KAAKA,KAAL,GAAa,CAAjB,EAAoB;AACnB,SAAKkB,MAAL,CAAY,CAAZ,EADmB,CACH;AAChB;AACD;AACD;AAlEO,CAAT","file":"Game_PlayModePress.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Game","sourcesContent":["\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t},\r\n\r\n\tonLoad() {\r\n\t\tthis.down = false;\r\n\t\tthis.value = 0;\r\n\t\tthis.limit = 0; // 操作限时\r\n\r\n\t\tthis.spr_filler = this.node.getChildByName(\"filler\").getComponent(cc.Sprite);\r\n\r\n\t\tthis.node.on(cc.Node.EventType.TOUCH_START, this.onDown, this);\r\n\t\tthis.node.on(cc.Node.EventType.MOUSE_DOWN, this.onDown, this);\r\n\r\n\t\tthis.node.on(cc.Node.EventType.TOUCH_END, this.onUp, this);\r\n\t\tthis.node.on(cc.Node.EventType.MOUSE_UP, this.onUp, this);\r\n\r\n\t\tthis.node.active = false;\r\n\t},\r\n\tonDown(event) {\r\n\t\tthis.down = true;\r\n\t\tthis.limit = 0;\r\n\t},\r\n\tonUp(event) {\r\n\t\tthis.down = false;\r\n\t\tif (this.value > 0.9) {\r\n\t\t\tthis.finish(2);\r\n\t\t} else if (this.value > 0.7) {\r\n\t\t\tthis.finish(1);\r\n\t\t} else {\r\n\t\t\tthis.finish(0);\r\n\t\t}\r\n\t},\r\n\r\n\tinit(onFinish) {\r\n\t\tthis.onFinish = onFinish;\r\n\t\tthis.value = 0;\r\n\t\tthis.spr_filler.fillRange = this.value;\r\n\t\tthis.limit = 2;\r\n\t\tthis.node.active = true;\r\n\t},\r\n\r\n\tfinish(score) {\r\n\t\tthis.limit = 0;\r\n\t\tthis.down = false;\r\n\t\tthis.node.active = false;\r\n\t\tthis.onFinish(score);\r\n\t},\r\n\r\n\tupdate(dt) {\r\n\t\tif (this.limit > 0) {\r\n\t\t\tthis.limit -= dt;\r\n\t\t\tif (this.limit <= 0) {\r\n\t\t\t\tthis.finish(0); // 操作限时\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.down) {\r\n\t\t\tthis.value += dt;\r\n\t\t\tthis.spr_filler.fillRange = this.value > 1 ? 1 : this.value;\r\n\t\t\tif (this.value > 1) {\r\n\t\t\t\tthis.finish(0); // 超界\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n});\r\n"]}