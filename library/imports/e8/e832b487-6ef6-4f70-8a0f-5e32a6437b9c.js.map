{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Game/assets\\Script\\Game\\Game_PlayModeTouch.js"],"names":["cc","Class","extends","Component","properties","onLoad","value","valueMin","valueMax","limit","node","on","Node","EventType","TOUCH_START","onClick","pointer","getChildByName","rotation","active","init","onFinish","finish","score","update","dt"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;;AAGLC,aAAY,EAHP;;AAMLC,OANK,oBAMK;AACZ,OAAKC,KAAL,GAAa,CAAC,CAAd;AACA,OAAKC,QAAL,GAAgB,GAAhB;AACA,OAAKC,QAAL,GAAgB,GAAhB;AACA,OAAKC,KAAL,GAAa,CAAb,CAJY,CAII;;AAEhB,OAAKC,IAAL,CAAUC,EAAV,CAAaX,GAAGY,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,OAAjD,EAA0D,IAA1D;;AAEA,OAAKC,OAAL,GAAe,KAAKN,IAAL,CAAUO,cAAV,CAAyB,SAAzB,CAAf;AACA,OAAKD,OAAL,CAAaE,QAAb,GAAwB,CAAxB;;AAEA,OAAKR,IAAL,CAAUS,MAAV,GAAmB,KAAnB;AACA,EAlBO;AAoBRC,KApBQ,gBAoBHC,QApBG,EAoBO;AACd,OAAKA,QAAL,GAAgBA,QAAhB;AACA,OAAKf,KAAL,GAAa,CAAb;AACA,OAAKU,OAAL,CAAaE,QAAb,GAAwB,CAAxB;AACA,OAAKT,KAAL,GAAa,CAAb;AACA,OAAKC,IAAL,CAAUS,MAAV,GAAmB,IAAnB;AACA,EA1BO;AA4BRG,OA5BQ,kBA4BDC,KA5BC,EA4BM;AACb,OAAKd,KAAL,GAAa,CAAb;AACA,OAAKC,IAAL,CAAUS,MAAV,GAAmB,KAAnB;AACA,OAAKE,QAAL,CAAcE,KAAd;AACA,EAhCO;AAkCRR,QAlCQ,qBAkCE;AACT,MAAI,KAAKT,KAAL,GAAa,KAAKC,QAAlB,IAA8B,KAAKD,KAAL,GAAa,KAAKE,QAApD,EAA8D;AAC7D,QAAKc,MAAL,CAAY,CAAZ;AACA,GAFD,MAEO;AACN,QAAKA,MAAL,CAAY,CAAZ;AACA;AACD,EAxCO;AA0CLE,OA1CK,kBA0CGC,EA1CH,EA0CO;AACd,MAAI,KAAKhB,KAAL,GAAa,CAAjB,EAAoB;AACnB,QAAKA,KAAL,IAAcgB,EAAd;AACA,OAAI,KAAKhB,KAAL,IAAc,CAAlB,EAAqB;AACpB,SAAKa,MAAL,CAAY,CAAZ,EADoB,CACJ;AAChB;AACD;;AAED,MAAI,KAAKhB,KAAL,IAAc,CAAlB,EAAqB;AACpB,QAAKA,KAAL,IAAc,MAAMmB,EAApB;AACA,QAAKT,OAAL,CAAaE,QAAb,GAAwB,KAAKZ,KAA7B;AACA;AACD;AAtDO,CAAT","file":"Game_PlayModeTouch.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Game","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    },\r\n\r\n    onLoad () {\r\n\t\tthis.value = -1;\r\n\t\tthis.valueMin = 270;\r\n\t\tthis.valueMax = 304;\r\n\t\tthis.limit = 0; // 操作限时\r\n\t\t\r\n\t\tthis.node.on(cc.Node.EventType.TOUCH_START, this.onClick, this);\r\n\r\n\t\tthis.pointer = this.node.getChildByName(\"pointer\");\r\n\t\tthis.pointer.rotation = 0;\r\n\r\n\t\tthis.node.active = false;\r\n\t},\r\n\r\n\tinit(onFinish) {\r\n\t\tthis.onFinish = onFinish;\r\n\t\tthis.value = 0;\r\n\t\tthis.pointer.rotation = 0;\r\n\t\tthis.limit = 1;\r\n\t\tthis.node.active = true;\r\n\t},\r\n\r\n\tfinish(score) {\r\n\t\tthis.limit = 0;\r\n\t\tthis.node.active = false;\r\n\t\tthis.onFinish(score);\r\n\t},\r\n\r\n\tonClick() {\r\n\t\tif (this.value > this.valueMin && this.value < this.valueMax) {\r\n\t\t\tthis.finish(2);\r\n\t\t} else {\r\n\t\t\tthis.finish(0);\r\n\t\t}\r\n\t},\r\n\r\n    update (dt) {\r\n\t\tif (this.limit > 0) {\r\n\t\t\tthis.limit -= dt;\r\n\t\t\tif (this.limit <= 0) {\r\n\t\t\t\tthis.finish(0); // 操作限时\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.value >= 0) {\r\n\t\t\tthis.value += 360 * dt;\r\n\t\t\tthis.pointer.rotation = this.value;\r\n\t\t}\r\n\t},\r\n});\r\n"]}