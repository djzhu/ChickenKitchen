{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\UI/assets\\Script\\UI\\UI_CountDown.js"],"names":["cc","Class","extends","Component","properties","onLoad","countDownNode","Array","push","node","getChildByName","active","countDownIndex","timer","startCountDown","onFinish","getComponent","Animation","play","update","dt","length"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY,EAHJ;;AAMRC,OANQ,oBAMC;AACR,OAAKC,aAAL,GAAqB,IAAIC,KAAJ,EAArB;AACA,OAAKD,aAAL,CAAmBE,IAAnB,CAAwB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,GAAzB,CAAxB;AACA,OAAKJ,aAAL,CAAmBE,IAAnB,CAAwB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,GAAzB,CAAxB;AACA,OAAKJ,aAAL,CAAmBE,IAAnB,CAAwB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,GAAzB,CAAxB;AACA,OAAKJ,aAAL,CAAmBE,IAAnB,CAAwB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,IAAzB,CAAxB;AACA;AACA,OAAKJ,aAAL,CAAmB,CAAnB,EAAsBK,MAAtB,GAA+B,KAA/B;AACA,OAAKL,aAAL,CAAmB,CAAnB,EAAsBK,MAAtB,GAA+B,KAA/B;AACA,OAAKL,aAAL,CAAmB,CAAnB,EAAsBK,MAAtB,GAA+B,KAA/B;AACA,OAAKL,aAAL,CAAmB,CAAnB,EAAsBK,MAAtB,GAA+B,KAA/B;AACA;AACA,OAAKC,cAAL,GAAsB,CAAC,CAAvB;AACA;AACA,OAAKC,KAAL,GAAa,CAAb;AACA,EArBO;AAuBRC,eAvBQ,0BAuBOC,QAvBP,EAuBiB;AACxB,OAAKH,cAAL,GAAsB,CAAtB;AACA,OAAKN,aAAL,CAAmB,CAAnB,EAAsBK,MAAtB,GAA+B,IAA/B;AACA,OAAKL,aAAL,CAAmB,CAAnB,EAAsBK,MAAtB,GAA+B,KAA/B;AACA,OAAKL,aAAL,CAAmB,CAAnB,EAAsBK,MAAtB,GAA+B,KAA/B;AACA,OAAKL,aAAL,CAAmB,CAAnB,EAAsBK,MAAtB,GAA+B,KAA/B;AACA,OAAKL,aAAL,CAAmB,CAAnB,EAAsBU,YAAtB,CAAmChB,GAAGiB,SAAtC,EAAiDC,IAAjD;AACA,OAAKH,QAAL,GAAgBA,QAAhB;AACA,EA/BO;AAiCRI,OAjCQ,kBAiCDC,EAjCC,EAiCG;AACV,MAAI,KAAKR,cAAL,IAAuB,CAA3B,EAA8B;AAC7B,QAAKC,KAAL,IAAcO,EAAd;AACA,OAAI,KAAKP,KAAL,IAAc,GAAlB,EAAuB;AACtB,SAAKA,KAAL,GAAa,CAAb;;AAEA,SAAKP,aAAL,CAAmB,KAAKM,cAAxB,EAAwCD,MAAxC,GAAiD,KAAjD;AACA,SAAKC,cAAL;AACA,QAAI,KAAKA,cAAL,GAAsB,KAAKN,aAAL,CAAmBe,MAA7C,EAAqD;AACpD,UAAKf,aAAL,CAAmB,KAAKM,cAAxB,EAAwCD,MAAxC,GAAiD,IAAjD;AACA,UAAKL,aAAL,CAAmB,KAAKM,cAAxB,EAAwCI,YAAxC,CAAqDhB,GAAGiB,SAAxD,EAAmEC,IAAnE;AACA,KAHD,MAGO;AACN,UAAKN,cAAL,GAAsB,CAAC,CAAvB;AACA,UAAKG,QAAL;AACA;AACD;AACD;AACD;AAlDO,CAAT","file":"UI_CountDown.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\UI","sourcesContent":["\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t},\r\n\r\n\tonLoad() {\r\n\t\tthis.countDownNode = new Array();\r\n\t\tthis.countDownNode.push(this.node.getChildByName(\"3\"));\r\n\t\tthis.countDownNode.push(this.node.getChildByName(\"2\"));\r\n\t\tthis.countDownNode.push(this.node.getChildByName(\"1\"));\r\n\t\tthis.countDownNode.push(this.node.getChildByName(\"go\"));\r\n\t\t//\r\n\t\tthis.countDownNode[0].active = false;\r\n\t\tthis.countDownNode[1].active = false;\r\n\t\tthis.countDownNode[2].active = false;\r\n\t\tthis.countDownNode[3].active = false;\r\n\t\t//\r\n\t\tthis.countDownIndex = -1;\r\n\t\t//\r\n\t\tthis.timer = 0;\r\n\t},\r\n\r\n\tstartCountDown(onFinish) {\r\n\t\tthis.countDownIndex = 0;\r\n\t\tthis.countDownNode[0].active = true;\r\n\t\tthis.countDownNode[1].active = false;\r\n\t\tthis.countDownNode[2].active = false;\r\n\t\tthis.countDownNode[3].active = false;\r\n\t\tthis.countDownNode[0].getComponent(cc.Animation).play();\r\n\t\tthis.onFinish = onFinish;\r\n\t},\r\n\r\n\tupdate(dt) {\r\n\t\tif (this.countDownIndex >= 0) {\r\n\t\t\tthis.timer += dt;\r\n\t\t\tif (this.timer >= 0.5) {\r\n\t\t\t\tthis.timer = 0;\r\n\r\n\t\t\t\tthis.countDownNode[this.countDownIndex].active = false;\r\n\t\t\t\tthis.countDownIndex++;\r\n\t\t\t\tif (this.countDownIndex < this.countDownNode.length) {\r\n\t\t\t\t\tthis.countDownNode[this.countDownIndex].active = true;\r\n\t\t\t\t\tthis.countDownNode[this.countDownIndex].getComponent(cc.Animation).play();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.countDownIndex = -1;\r\n\t\t\t\t\tthis.onFinish();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n});\r\n"]}