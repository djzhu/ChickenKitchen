{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\UI/assets\\Script\\UI\\UI_Rabbit.js"],"names":["GameManager","require","cc","Class","extends","Component","properties","onLoad","activeCount","lastTime","anim_btnRabbit","node","getChildByName","getComponent","Animation","cheerRabbit","active","counter","timer","onGoodService","play","onClick_Rabbit","stop","instance","startCheerTime","update","dt","endCheerTime"],"mappings":";;;;;;AAAA,IAAIA,cAAcC,QAAQ,aAAR,CAAlB;AACAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY,EAHJ;;AAMRC,OANQ,oBAMC;AACR,OAAKC,WAAL,GAAmB,EAAnB,CADQ,CACe;AACvB,OAAKC,QAAL,GAAgB,EAAhB,CAFQ,CAEY;;AAEpB,OAAKC,cAAL,GAAsB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCC,YAAvC,CAAoDX,GAAGY,SAAvD,CAAtB;AACA,OAAKC,WAAL,GAAmB,KAAKJ,IAAL,CAAUC,cAAV,CAAyB,aAAzB,CAAnB;;AAEA,OAAKG,WAAL,CAAiBC,MAAjB,GAA0B,KAA1B;AACA,OAAKC,OAAL,GAAe,CAAf;AACA,OAAKC,KAAL,GAAa,CAAb;AACA,EAhBO;;;AAkBR;AACAC,cAnBQ,2BAmBQ;AACf,MAAI,KAAKF,OAAL,GAAe,KAAKT,WAAxB,EAAqC;AACpC,QAAKS,OAAL;AACA,OAAI,KAAKA,OAAL,IAAgB,KAAKT,WAAzB,EAAsC;AACrC,SAAKE,cAAL,CAAoBU,IAApB;AACA;AACD;AACD,EA1BO;;;AA4BR;AACAC,eA7BQ,4BA6BS;AAChB,MAAI,KAAKJ,OAAL,IAAgB,KAAKT,WAAzB,EAAsC;AACrC,QAAKS,OAAL,GAAe,CAAf;AACA,QAAKP,cAAL,CAAoBY,IAApB;;AAEA,QAAKP,WAAL,CAAiBC,MAAjB,GAA0B,IAA1B;AACA,QAAKE,KAAL,GAAa,KAAKT,QAAlB;AACAT,eAAYuB,QAAZ,CAAqBC,cAArB;AACA;AACD,EAtCO;AAwCRC,OAxCQ,kBAwCDC,EAxCC,EAwCG;AACV,MAAI,KAAKR,KAAL,GAAa,CAAjB,EAAoB;AACnB,QAAKA,KAAL,IAAcQ,EAAd;AACA,OAAI,KAAKR,KAAL,IAAc,CAAlB,EAAqB;AACpB,SAAKH,WAAL,CAAiBC,MAAjB,GAA0B,KAA1B;AACAhB,gBAAYuB,QAAZ,CAAqBI,YAArB;AACA;AACD;AACD;AAhDO,CAAT","file":"UI_Rabbit.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\UI","sourcesContent":["var GameManager = require(\"GameManager\");\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t},\r\n\r\n\tonLoad() {\r\n\t\tthis.activeCount = 10; // 激活需要的触发次数\r\n\t\tthis.lastTime = 12; // 持续时间\r\n\r\n\t\tthis.anim_btnRabbit = this.node.getChildByName(\"btn_rabbit\").getComponent(cc.Animation);\r\n\t\tthis.cheerRabbit = this.node.getChildByName(\"anim_rabbit\");\r\n\r\n\t\tthis.cheerRabbit.active = false;\r\n\t\tthis.counter = 0;\r\n\t\tthis.timer = 0;\r\n\t},\r\n\r\n\t// 一次笑脸增加一次计数\r\n\tonGoodService() {\r\n\t\tif (this.counter < this.activeCount) {\r\n\t\t\tthis.counter++;\r\n\t\t\tif (this.counter >= this.activeCount) {\r\n\t\t\t\tthis.anim_btnRabbit.play();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// 激活拉拉兔\r\n\tonClick_Rabbit() {\r\n\t\tif (this.counter >= this.activeCount) {\r\n\t\t\tthis.counter = 0;\r\n\t\t\tthis.anim_btnRabbit.stop();\r\n\r\n\t\t\tthis.cheerRabbit.active = true;\r\n\t\t\tthis.timer = this.lastTime;\r\n\t\t\tGameManager.instance.startCheerTime();\r\n\t\t}\r\n\t},\r\n\r\n\tupdate(dt) {\r\n\t\tif (this.timer > 0) {\r\n\t\t\tthis.timer -= dt;\r\n\t\t\tif (this.timer <= 0) {\r\n\t\t\t\tthis.cheerRabbit.active = false;\r\n\t\t\t\tGameManager.instance.endCheerTime();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n});\r\n"]}